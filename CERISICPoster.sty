\NeedsTeXFormat{LaTeX2e}[1999/01/01]
\ProvidesPackage{CERISICPoster}[2017/03/12 v0.1]

\RequirePackage[orientation=portrait, size=a0, scale=1.4]{beamerposter}
\RequirePackage{ifthen}
\RequirePackage[absolute,overlay]{textpos}
\RequirePackage{graphicx}

%\DeclareOption{showboxes}{\@showboxes}
%\DeclareOption{showboxes}{\PassOptionsToPackage{\CurrentOption}{textpos}}
%\ProcessOptions
%\ExecuteOptions{showboxes}

%\makeatletter

%\if@showboxes
%  \RequirePackage[absolute,overlay,showboxes]{textpos}
%\else
%  \RequirePackage[absolute,overlay]{textpos}
%\fi

%\usepackage[orientation=portrait, size=a0, scale=1.4]{beamerposter}
%\usepackage[absolute,overlay,showboxes]{textpos}

%\usepackage[T1]{fontenc}
%\usepackage{lmodern}
%\usepackage[utf8]{inputenc}
%\usepackage{lipsum}
%\usepackage{xparse}
%\usepackage[colorgrid,texcoord]{eso-pic}

%\usefonttheme{serif}
\usefonttheme{professionalfonts}
\usecolortheme{orchid}
\useoutertheme{default}

\renewcommand{\figurename}{Fig}
\renewcommand{\tablename}{Tab}

\definecolor{VertBleu}{rgb}{0.055 0.596 0.576}
\definecolor{blanc}{rgb}{1 1 1}

\setbeamercolor{normal text}{fg=VertBleu}

\setbeamertemplate{caption}[numbered]
\setbeamerfont{caption name}{family=\sffamily}
\setbeamercolor{caption name}{fg=VertBleu}

%Blocks définition
\setbeamertemplate{blocks}[rounded]{}

%Changement des couleur au niveau du titre du block
\setbeamercolor{block title}{use=structure,fg=white,bg=VertBleu}
\setbeamercolor{block title alerted}{use=alerted text,fg=white,bg=alerted text.fg!75!black}
\setbeamercolor{block title example}{use=example text,fg=white,bg=example text.fg!75!black}

%Navigation symbols suppression
\setbeamertemplate{navigation symbols}{}

%Changement des couleur au niveau du corps du block
\setbeamercolor{block body}{parent=normal text,use=block title,bg=block title.bg!10!bg}
\setbeamercolor{block body alerted}{parent=normal text,use=block title alerted,bg=block title alerted.bg!10!bg}
\setbeamercolor{block body example}{parent=normal text,use=block title example,bg=block title example.bg!10!bg}



%Définition des couleurs pour les Enumerate-Items
\setbeamercolor{enumerate item}{fg=VertBleu}

%Définition des couleurs pour les Description-Items
\setbeamercolor{description item}{fg=VertBleu}

%Définition des "template" et "color" pour les items
\setbeamercolor{itemize item}{fg=VertBleu}
\setbeamertemplate{itemize item}[circle]


%\setbeamertemplate{background canvas}{\includegraphics[width=\paperwidth,height=\paperheight]{img/Template.png}}



%\def\postertitle#1{\def\@postertitle{#1}} % Title 
\newcommand{\postertitle}[1]{
  \def\@postertitle{#1}
  %\def\@titlesize{#2}
  }
	
\newcommand{\postersubtitle}[1]{
  \def\@postersubtitle{#1}
  }

\newcommand{\authors}[1]{
  \def\@authors{#1}
  }
  
\newcommand{\institutes}[1]{
  \def\@institutes{#1}
  }

\newcommand{\industrialpartner}[2]{
  \def\@industrialpartnersize{#1}
  \def\@industrialpartnerimage{#2}
  }

\newcommand{\scientificpartner}[2]{
  \def\@scientificpartnersize{#1}
  \def\@scientificpartnerimage{#2}
  }
  
\newcommand{\contact}[1]{
  \def\@contact{#1}
  }

%\renewcommand\thesection{\arabic{section}}
\newcounter{mysection}
\renewcommand{\section}{\@startsection {section}{1}{\z@}%
                                   {-3.5ex \@plus -1ex \@minus -.2ex}%
                                   {2.3ex \@plus.2ex}%
                                   {\normalfont\Large\bfseries}}

\let\tempone\itemize
\let\temptwo\enditemize
\renewenvironment{itemize}{\tempone\addtolength{\itemsep}{0.5\baselineskip}}{\temptwo}

%\newsavebox{\fminipagebox}
%\NewDocumentEnvironment{fminipage}{m O{\fboxsep}}
% {\par\kern#2\noindent\begin{lrbox}{\fminipagebox}
%  \begin{minipage}{#1}\ignorespaces}
% {\end{minipage}\end{lrbox}%
%  \makebox[#1]{%
%    \kern\dimexpr-\fboxsep-\fboxrule\relax
%    \fbox{\usebox{\fminipagebox}}%
%    \kern\dimexpr-\fboxsep-\fboxrule\relax
%  }\par\kern#2
% }

\newenvironment{firstcolumn}{\begin{textblock}{36}(4, 20)\begin{minipage}{0.99\textwidth}}{\end{minipage}\end{textblock}}
\newenvironment{secondcolumn}{\begin{textblock}{2}(40, 20)\begin{minipage}{0.99\textwidth}\begin{center}\rule{5pt}{84cm}\end{center}\end{minipage}\end{textblock}\begin{textblock}{36}(42, 20)\begin{minipage}{0.99\textwidth}}{\end{minipage}
\end{textblock}}




\newcommand{\makeposter}
{
	% Définition de l'image de fond pour le slide de garde
	\setbeamertemplate{background canvas}{\includegraphics[width=\paperwidth,height=\paperheight]{img/Template.png}}
	\begin{textblock}{49}(30, 5)
		\begin{minipage}{0.99\textwidth}
			\begin{flushright}
				\veryHuge{\textcolor{white}{\@postertitle}}
			\end{flushright}
			\begin{flushright}
				\Large{\textcolor{white}{\@postersubtitle}}
			\end{flushright}
			\begin{flushright}
				\normalsize{\textcolor{white}{\@authors}}
			\end{flushright}
			\begin{flushright}
				\small{\textcolor{white}{\@institutes}}
			\end{flushright}
		\end{minipage}
	\end{textblock}
	
	\begin{textblock}{75}(4, 105.5)
	\textbf{Contact:} \@contact
	\end{textblock}
	
	\begin{textblock}{12}(4, 108)
		\begin{center}
		\textbf{Promoteur}
		\end{center}
	\end{textblock}
	\begin{textblock}{32}(20, 108)
		\begin{minipage}{0.49\textwidth}
			\begin{center}
			\textbf{Partenaire industriel}
			\end{center}
		\end{minipage}
		\begin{minipage}{0.49\textwidth}
			\begin{center}
			\textbf{Partenaire scientifique}
			\end{center}
		\end{minipage}
	\end{textblock}
	\begin{textblock}{32}(20, 110)
		\begin{minipage}{0.49\textwidth}
			\begin{center}
			\includegraphics[width=\@industrialpartnersize]{\@industrialpartnerimage}
			\end{center}
		\end{minipage}
		\begin{minipage}{0.49\textwidth}
			\begin{center}
			\includegraphics[width=\@scientificpartnersize]{\@scientificpartnerimage}
			\end{center}
		\end{minipage}
	\end{textblock}
}

\endinput